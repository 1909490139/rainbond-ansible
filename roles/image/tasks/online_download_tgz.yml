---
- name: Check | Check if base.image.tgz is download
  stat: path=/grdata/services/offline/base.images.tgz
  register: check_image_base_tgz_download

- name: The next task may take some time to execute
  debug:
    msg: "The next task may take some time to execute: Waiting downloading base.images.tgz (1.5GB)"
  when: check_image_base_tgz_download.stat.isreg is not defined

- name: Rainbond | Download base image tgz ok
  get_url:
    url: http://rainbond-pkg.oss-cn-shanghai.aliyuncs.com/offline/5.0/base.images.2019-03-06-5.0.4.tgz
    dest: /grdata/services/offline/base.images.tgz
    checksum: sha256:7ff32e98b8daaeb9d42362180283782eb9364267cc938e62fcef31258d28f64a
  when: check_image_base_tgz_download.stat.isreg is not defined

- name: Check | Check if rainbond.image.tgz is download
  stat: path=/grdata/services/offline/rainbond.images.tgz
  register: check_image_rainbond_tgz_download

- name: The next task may take some time to execute
  debug:
    msg: "The next task may take some time to execute: Waiting downloading rainbond.images.tgz (300MB)"
  when: check_image_rainbond_tgz_download.stat.isreg is not defined

- name: Rainbond | Download rainbond image tgz ok
  get_url:
    url: http://rainbond-pkg.oss-cn-shanghai.aliyuncs.com/offline/5.0/rainbond.images.2019-03-06-5.0.4.tgz
    dest: /grdata/services/offline/rainbond.images.tgz
    checksum: sha256:3b2551efff1395d4af6e7d5fe8bf8b7503c6d35e6f20c416d25a4c669fa4d3bd
  when: check_image_rainbond_tgz_download.stat.isreg is not defined