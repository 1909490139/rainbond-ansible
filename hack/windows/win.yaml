version: '2.1'
services:
- name: etcd-proxy
  health:
    name: etcd-proxy
    model: tcp
    address: 127.0.0.1:2379
    time_interval: 5
  start: c:\k\etcd.exe grpc-proxy start --endpoints=http://192.168.56.133:2379 --listen-addr=127.0.0.1:2379
- name: kubelet
  health:
    name: kubelet
    model: tcp
    address: 127.0.0.1:10248
    time_interval: 5
  start: powershell -f c:\k\start.ps1 -ManagementIP 192.168.56.134 -ClusterCIDR 10.20.0.0/16 -ServiceCIDR 11.1.0.1/12 -KubeDnsServiceIP 192.168.56.133

- name: flannel
  start: c:\k\flanneld.exe -etcd-endpoints=http://192.168.56.133:2379 -etcd-prefix="/kubernetes/network"
